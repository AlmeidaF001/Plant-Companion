<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PlantCompanion.MainPage"
             Shell.NavBarIsVisible="False"
             BackgroundColor="#1E4620">

    <Grid>
        <!-- Full page gradient background -->
        <BoxView VerticalOptions="Fill"
                 ZIndex="0">
            <BoxView.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#2A6928" Offset="0.0" />
                    <GradientStop Color="#1E4620" Offset="1.0" />
                </LinearGradientBrush>
            </BoxView.Background>
        </BoxView>

        <!-- Decorative pattern overlay - extended to full page -->
        <Grid VerticalOptions="Fill" 
              Opacity="0.1"
              ZIndex="0">
            <BoxView>
                <BoxView.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FFFFFF" Offset="0.0" />
                        <GradientStop Color="Transparent" Offset="1.0" />
                    </LinearGradientBrush>
                </BoxView.Background>
            </BoxView>
            <Image Source="leaf_pattern.png" Aspect="AspectFill" Opacity="0.15"/>
        </Grid>

        <!-- Dark Overlay - IMPORTANTE: ZIndex maior que o conteúdo principal -->
        <BoxView x:Name="DarkOverlay"
                 Color="#000000"
                 Opacity="0"
                 IsVisible="False"
                 ZIndex="98">
            <BoxView.GestureRecognizers>
                <TapGestureRecognizer Tapped="OnOverlayTapped"/>
            </BoxView.GestureRecognizers>
        </BoxView>

        <!-- Menu Hamburger - IMPORTANTE: ZIndex maior que o overlay -->
        <Grid x:Name="HamburgerMenuPanel" 
              WidthRequest="280"
              BackgroundColor="White"
              HorizontalOptions="Start"
              TranslationX="-280"
              ZIndex="99">

            <!-- Design do cabeçalho do menu -->
            <Grid RowDefinitions="180, *">
                <!-- Cabeçalho do Menu -->
                <Frame Grid.Row="0" 
                       Padding="0" 
                       HasShadow="False" 
                       IsClippedToBounds="True">
                    <Grid>
                        <BoxView>
                            <BoxView.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#2A6928" Offset="0.0" />
                                    <GradientStop Color="#1E4620" Offset="1.0" />
                                </LinearGradientBrush>
                            </BoxView.Background>
                        </BoxView>

                        <StackLayout Padding="20" VerticalOptions="End">
                            <Image Source="user_icon.png"
                                   HeightRequest="60"
                                   WidthRequest="60"
                                   Aspect="AspectFill"
                                   HorizontalOptions="Start"/>

                            <Label Text="User"
                                   TextColor="White"
                                   FontAttributes="Bold"
                                   FontSize="18"
                                   Margin="0,10,0,0"/>

                            <Label x:Name="UserEmailLabel"
                                   TextColor="#E0F2E9"
                                   FontSize="14"/>
                        </StackLayout>
                    </Grid>
                </Frame>

                <!-- Itens do Menu -->
                <StackLayout Grid.Row="1" Spacing="0">
                    <!-- Item do Menu: Home -->
                    <Grid Padding="20,15" BackgroundColor="Transparent">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnHomeMenuItemTapped"/>
                        </Grid.GestureRecognizers>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Label Grid.Column="1"
                               Text="Home"
                               FontSize="16"
                               TextColor="#333333"
                               VerticalOptions="Center"/>
                    </Grid>

                    <!-- Separador -->
                    <BoxView HeightRequest="1" Color="#F0F0F0"/>

                    <!-- Item do Menu: Perfil -->
                    <Grid Padding="20,15" BackgroundColor="Transparent">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnProfileMenuItemTapped"/>
                        </Grid.GestureRecognizers>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Label Grid.Column="1"
                               Text="Profile"
                               FontSize="16"
                               TextColor="#333333"
                               VerticalOptions="Center"/>
                    </Grid>

                    <!-- Separador -->
                    <BoxView HeightRequest="1" Color="#F0F0F0"/>

                    <!-- Item do Menu: Previsão do Tempo -->
                    <Grid Padding="20,15" BackgroundColor="Transparent">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnWeatherMenuItemTapped"/>
                        </Grid.GestureRecognizers>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Label Grid.Column="1"
                               Text="Weather"
                               FontSize="16"
                               TextColor="#333333"
                               VerticalOptions="Center"/>
                    </Grid>

                    <!-- Separador -->
                    <BoxView HeightRequest="1" Color="#F0F0F0"/>

                    <!-- Item do Menu: Histórico -->
                    <Grid Padding="20,15" BackgroundColor="Transparent">
                        <Grid.GestureRecognizers>
                            <TapGestureRecognizer Tapped="OnHistoryMenuItemTapped"/>
                        </Grid.GestureRecognizers>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="30"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Label Grid.Column="1"
                               Text="Plant History"
                               FontSize="16"
                               TextColor="#333333"
                               VerticalOptions="Center"/>
                    </Grid>

                    <!-- Separador -->
                    <BoxView HeightRequest="1" Color="#F0F0F0"/>
                </StackLayout>
            </Grid>

            <!-- Sombra para o painel do menu -->
            <BoxView HorizontalOptions="End" 
                     WidthRequest="6" 
                     Opacity="0.2">
                <BoxView.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#00000000" Offset="0.0"/>
                        <GradientStop Color="#22000000" Offset="1.0"/>
                    </LinearGradientBrush>
                </BoxView.Background>
            </BoxView>
        </Grid>

        <!-- Main Content -->
        <ScrollView ZIndex="1">
            <Grid RowSpacing="0" Padding="0,0,0,100">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <!-- Premium Header with Hamburger Menu -->
                <Grid Grid.Row="0" Padding="24,50,24,20">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- Top Bar with Menu and Actions -->
                    <Grid Grid.Row="0" Margin="0,0,0,8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!-- Hamburger Menu Button -->
                        <Button Grid.Column="0"
        x:Name="MenuButton"
        WidthRequest="40"
        HeightRequest="40"
        CornerRadius="20"
        Padding="0"
        Margin="0,0,0,0"
        BackgroundColor="#FFFFFF"
        BorderColor="Transparent"
        Clicked="OnMenuButtonClicked">
                            <Button.ImageSource>
                                <FileImageSource File="menu.svg" />
                            </Button.ImageSource>
                        </Button>

                        <!-- Bold Title in Center -->
                        <Label Grid.Column="1"
                               Text="PLANT COMPANION" 
                               FontSize="25" 
                               FontAttributes="Bold"
                               TextColor="White"
                               Opacity="0.95"
                               VerticalOptions="Center"
                               HorizontalOptions="Center"
                               CharacterSpacing="1.0" />
                    </Grid>

                    <!-- Title Area - REMOVIDO conforme solicitação -->
                    <!--
                    <StackLayout Grid.Row="1" Orientation="Horizontal" Spacing="8" Margin="0,12,0,0">
                        <Label Text="Plant" 
                               FontSize="38" 
                               FontAttributes="Bold"
                               TextColor="White" />
                        <Label Text="ID" 
                               FontSize="38"
                               FontAttributes="None"
                               TextColor="#9FE3A0" />
                    </StackLayout>
                    -->
                </Grid>

                <!-- Enhanced Image Card with Floating Design -->
                <Frame Grid.Row="1" 
                       Margin="20,0,20,0" 
                       Padding="0" 
                       CornerRadius="28" 
                       BorderColor="Transparent"
                       HasShadow="False"
                       Background="Transparent"
                       IsClippedToBounds="True">

                    <!-- Enhanced shadow effect for the card -->
                    <Frame.Shadow>
                        <Shadow Brush="#40000000"
                                Offset="0,6"
                                Radius="24" />
                    </Frame.Shadow>

                    <Grid>
                        <!-- Image Display Area -->
                        <Frame BackgroundColor="White" 
                               CornerRadius="28" 
                               HasShadow="False"
                               Padding="0"
                               IsClippedToBounds="True">
                            <Grid>
                                <CarouselView x:Name="ImageCarousel" 
                                              HeightRequest="380"
                                              HorizontalOptions="Fill"
                                              IndicatorView="indicatorView"
                                              PeekAreaInsets="0">
                                    <CarouselView.ItemTemplate>
                                        <DataTemplate>
                                            <Grid>
                                                <Image Source="{Binding}" 
                                                       Aspect="AspectFill"
                                                       HorizontalOptions="FillAndExpand"
                                                       VerticalOptions="FillAndExpand">
                                                    <Image.Clip>
                                                        <RoundRectangleGeometry Rect="0,0,1000,1000" CornerRadius="28" />
                                                    </Image.Clip>
                                                </Image>
                                                <!-- Enhanced gradient overlay for better text contrast -->
                                                <BoxView Opacity="0.15">
                                                    <BoxView.Background>
                                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                            <GradientStop Color="Transparent" Offset="0.6" />
                                                            <GradientStop Color="#000000" Offset="1.0" />
                                                        </LinearGradientBrush>
                                                    </BoxView.Background>
                                                </BoxView>
                                            </Grid>
                                        </DataTemplate>
                                    </CarouselView.ItemTemplate>
                                </CarouselView>

                                <!-- Enhanced Empty State Design with Square Background -->
                                <Grid x:Name="EmptyStateGrid"
                                      IsVisible="True">
                                    <Grid.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#F4F6F4" Offset="0.0" />
                                            <GradientStop Color="#FFFFFF" Offset="1.0" />
                                        </LinearGradientBrush>
                                    </Grid.Background>

                                    <!-- Square container for all content -->
                                    <Frame BackgroundColor="#F2F4F2" 
                                           CornerRadius="20"
                                           Padding="30,40" 
                                           HasShadow="False"
                                           BorderColor="Transparent"
                                           VerticalOptions="Center"
                                           HorizontalOptions="Center"
                                           MaximumWidthRequest="340">

                                        <StackLayout VerticalOptions="Center" HorizontalOptions="Center" Spacing="28">
                                            <!-- Camera icon with modern styling -->
                                            <Frame HeightRequest="120" 
                                                   WidthRequest="120"
                                                   CornerRadius="60"
                                                   Padding="0"
                                                   HasShadow="False"
                                                   BackgroundColor="#EAEFEA"
                                                   HorizontalOptions="Center">
                                                <Frame.Shadow>
                                                    <Shadow Brush="#20000000"
                                                            Offset="0,4"
                                                            Radius="12" />
                                                </Frame.Shadow>
                                                <Image Source="cam_icon.png" 
                                                       HeightRequest="60" 
                                                       HorizontalOptions="Center"
                                                       VerticalOptions="Center"
                                                       Opacity="0.9">
                                                </Image>
                                            </Frame>

                                            <StackLayout Spacing="12" Margin="10,0">
                                                <!-- Title without background frame -->
                                                <Label Text="Identify Any Plant"
                                                       FontSize="24"
                                                       FontAttributes="Bold"
                                                       TextColor="#3E4A3E"
                                                       HorizontalOptions="Center" />

                                                <Label Text="Take a clear photo or upload an existing image"
                                                       FontSize="16"
                                                       TextColor="#656A65"
                                                       HorizontalOptions="Center"
                                                       MaxLines="2"
                                                       LineBreakMode="WordWrap"
                                                       HorizontalTextAlignment="Center" />
                                            </StackLayout>
                                        </StackLayout>
                                    </Frame>
                                </Grid>

                                <!-- Enhanced indicator dots -->
                                <IndicatorView x:Name="indicatorView"
                                               VerticalOptions="End"
                                               HorizontalOptions="Center"
                                               Margin="0,0,0,18"
                                               IndicatorSize="9"
                                               IndicatorColor="#30000000"
                                               SelectedIndicatorColor="#FFFFFF" />
                            </Grid>
                        </Frame>
                    </Grid>
                </Frame>

                <!-- Enhanced Results Container with Premium Visual Style -->
                <Frame Grid.Row="2" 
                       Margin="20,24,20,0" 
                       Padding="0" 
                       CornerRadius="28" 
                       BorderColor="Transparent"
                       HasShadow="False"
                       Background="White"
                       IsClippedToBounds="True">

                    <!-- Enhanced shadow effect -->
                    <Frame.Shadow>
                        <Shadow Brush="#15000000"
                                Offset="0,3"
                                Radius="12" />
                    </Frame.Shadow>

                    <Grid Padding="0">
                        <!-- Plant Identification Section -->
                        <Grid Padding="24">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Section Header -->
                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <Label Text="IDENTIFICATION" 
                                       FontSize="13" 
                                       FontAttributes="Bold"
                                       TextColor="#5A7854"
                                       CharacterSpacing="0.8"
                                       VerticalOptions="Center" />

                                <Frame Grid.Column="1"
                                       BackgroundColor="#E8F5E9"
                                       CornerRadius="14"
                                       Padding="10,5"
                                       HasShadow="False"
                                       BorderColor="Transparent">
                                    <Label Text="99% Match" 
                                           FontSize="13"
                                           TextColor="#2E7D32"
                                           FontAttributes="Bold" />
                                </Frame>
                            </Grid>

                            <!-- Plant Name (Results) -->
                            <Label Grid.Row="1"
                                   x:Name="ResultLabel" 
                                   Text="Tap the scan button to identify"
                                   FontSize="26" 
                                   FontAttributes="Bold"
                                   TextColor="#253624"
                                   Margin="0,12,0,8"/>

                            <!-- Scientific Name -->
                            <Label Grid.Row="2"
                                   x:Name="ScientificNameLabel"

                                   FontSize="15"
                                   FontAttributes="Italic"
                                   TextColor="#939993"
                                   Margin="0,0,0,20" />

                            <!-- Enhanced Separator -->
                            <BoxView Grid.Row="3"
                                     HeightRequest="1" 
                                     Color="#F0F5F0" 
                                     Margin="0" />
                        </Grid>
                    </Grid>
                </Frame>

                <!-- Enhanced Health Status Card -->
                <Frame Grid.Row="3" 
                       Margin="20,16,20,0" 
                       Padding="0" 
                       CornerRadius="28" 
                       BorderColor="Transparent"
                       HasShadow="False"
                       Background="White"
                       IsClippedToBounds="True">

                    <!-- Enhanced shadow effect -->
                    <Frame.Shadow>
                        <Shadow Brush="#15000000"
                                Offset="0,3"
                                Radius="12" />
                    </Frame.Shadow>

                    <Grid Padding="24">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Section Header -->
                        <Label Grid.Row="0"
                               Text="PLANT HEALTH" 
                               FontSize="13" 
                               FontAttributes="Bold"
                               TextColor="#5A7854"
                               CharacterSpacing="0.8" />

                        <!-- Enhanced Health Status Card -->
                        <Frame Grid.Row="1" 
                               x:Name="HealthStatusFrame"
                               BackgroundColor="#F7FBF7"
                               Padding="18"
                               CornerRadius="18"
                               Margin="0,14,0,0"
                               BorderColor="Transparent"
                               HasShadow="False">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Enhanced Health Status Icon with Circle Background -->
                                <Frame Grid.Column="0"
                                       HeightRequest="52" 
                                       WidthRequest="52"
                                       CornerRadius="26"
                                       Padding="0"
                                       HasShadow="False"
                                       Background="#E8F5E9"
                                       VerticalOptions="Start"
                                       Margin="0,0,18,0">
                                    <Image x:Name="HealthStatusIcon"
                                           Source="magnifying_icon.png"
                                           HeightRequest="26"
                                           WidthRequest="26"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center" />
                                </Frame>

                                <!-- Enhanced Health Status Information -->
                                <StackLayout Grid.Column="1" Spacing="8">
                                    <Label x:Name="HealthStatusTitle"
                                           Text="Analyzing plant health..."
                                           FontSize="18" 
                                           FontAttributes="Bold"
                                           TextColor="#315B2F" />

                                    <Label x:Name="HealthStatusLabel"
                                           Text="Detailed health information will appear here after analysis"
                                           FontSize="15" 
                                           LineBreakMode="WordWrap"
                                           TextColor="#6B796A" />
                                </StackLayout>
                            </Grid>
                        </Frame>

                        <!-- Disease Details Section with Premium Design -->
                        <StackLayout Grid.Row="2" 
                                     x:Name="DiseaseDetailsStack"
                                     IsVisible="false"
                                     Margin="0,16,0,0"
                                     Spacing="12">
                            <!-- Content will be added dynamically -->
                        </StackLayout>
                    </Grid>
                </Frame>

                <!-- Enhanced Care Tips with Matching Design -->
                <Frame Grid.Row="4" 
                       x:Name="ExpertTipsFrame"
                       Margin="20,16,20,60" 
                       Padding="0"
                       CornerRadius="28" 
                       BorderColor="Transparent"
                       HasShadow="False"
                       Background="White"
                       IsClippedToBounds="True">

                    <!-- Enhanced shadow effect -->
                    <Frame.Shadow>
                        <Shadow Brush="#15000000"
                                Offset="0,3"
                                Radius="12" />
                    </Frame.Shadow>

                    <Grid Padding="24">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Section Header -->
                        <Label Grid.Row="0"
                               Text="EXPERT TIPS" 
                               FontSize="13" 
                               FontAttributes="Bold"
                               TextColor="#5A7854"
                               CharacterSpacing="0.8" />

                        <!-- Enhanced Tips Card -->
                        <Frame Grid.Row="1" 
                               BackgroundColor="#F7FBF7"
                               Padding="18"
                               CornerRadius="18"
                               Margin="0,14,0,0"
                               BorderColor="Transparent"
                               HasShadow="False">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Enhanced Tip Icon with Circle Background -->
                                <Frame Grid.Column="0"
                                       HeightRequest="52" 
                                       WidthRequest="52"
                                       CornerRadius="26"
                                       Padding="0"
                                       HasShadow="False"
                                       Background="#E8F5E9"
                                       VerticalOptions="Start"
                                       Margin="0,0,18,0">
                                    <Image Source="tips_icon.svg"
                                           HeightRequest="26"
                                           WidthRequest="26"
                                           HorizontalOptions="Center"
                                           VerticalOptions="Center" />
                                </Frame>

                                <!-- Tips Content -->
                                <StackLayout Grid.Column="1" Spacing="16">
                                    <StackLayout Spacing="4">
                                        <Label Text="Photography Tips"
                                               FontSize="18" 
                                               FontAttributes="Bold"
                                               TextColor="#315B2F" />

                                        <Label Text="Take photos in natural, diffused light for the most accurate plant identification results."
                                               FontSize="15" 
                                               LineBreakMode="WordWrap"
                                               TextColor="#6B796A" />
                                    </StackLayout>

                                    <StackLayout Spacing="4">
                                        <Label Text="Feature Multiple Parts"
                                               FontSize="18" 
                                               FontAttributes="Bold"
                                               TextColor="#315B2F" />

                                        <Label Text="Include both leaves and flowers in your photos when available for more accurate identification."
                                               FontSize="15" 
                                               LineBreakMode="WordWrap"
                                               TextColor="#6B796A" />
                                    </StackLayout>
                                </StackLayout>
                            </Grid>
                        </Frame>
                    </Grid>
                </Frame>
            </Grid>
        </ScrollView>

        <!-- Enhanced Floating Action Button Group -->
        <Grid VerticalOptions="End" 
              Padding="0,0,0,26" 
              BackgroundColor="Transparent"
              ZIndex="2">

            <!-- Improved Container with Frosted Glass Effect -->
            <Frame HorizontalOptions="Center"
                   VerticalOptions="End"
                   Padding="16,16" 
                   CornerRadius="42" 
                   HasShadow="False"
                   BorderColor="Transparent"
                   BackgroundColor="#F8FAF8"
                   Opacity="0.95">

                <!-- Enhanced Button Shadow -->
                <Frame.Shadow>
                    <Shadow Brush="#30000000"
                            Offset="0,8"
                            Radius="20" />
                </Frame.Shadow>

                <HorizontalStackLayout Spacing="16">
                    <!-- Enhanced History Button -->
                    <Grid WidthRequest="60" HeightRequest="76">
                        <Frame 
                    VerticalOptions="Start"
                    HorizontalOptions="Center"
                    WidthRequest="56" 
                    HeightRequest="56" 
                    CornerRadius="28"
                    Padding="0"
                    HasShadow="False"
                    BorderColor="Transparent">
                            <Frame.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#2E7D32" Offset="0.0" />
                                    <GradientStop Color="#1B5E20" Offset="1.0" />
                                </LinearGradientBrush>
                            </Frame.Background>

                            <Grid>
                                <Ellipse Stroke="#80FFFFFF" 
                                 StrokeThickness="1.5" 
                                 HorizontalOptions="Center"
                                 VerticalOptions="Center"
                                 WidthRequest="48"
                                 HeightRequest="48"/>

                                <Image Source="history_icon.svg"
                               WidthRequest="24"
                               HeightRequest="24"
                               HorizontalOptions="Center"
                               VerticalOptions="Center">
                                    <Image.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnHistoricoButtonClicked"/>
                                    </Image.GestureRecognizers>
                                </Image>
                            </Grid>
                        </Frame>

                        <Label Text="History" 
                       FontSize="12"
                       TextColor="#555555"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       VerticalOptions="End"/>
                    </Grid>

                    <!-- Enhanced Camera Button -->
                    <Grid WidthRequest="78" HeightRequest="96">
                        <Frame 
                    VerticalOptions="Start"
                    HorizontalOptions="Center"
                    WidthRequest="78" 
                    HeightRequest="78" 
                    CornerRadius="39"
                    Padding="0"
                    HasShadow="False"
                    BorderColor="Transparent">
                            <Frame.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#43A047" Offset="0.0" />
                                    <GradientStop Color="#2E7D32" Offset="1.0" />
                                </LinearGradientBrush>
                            </Frame.Background>

                            <Grid>
                                <Ellipse Stroke="#80FFFFFF" 
                                 StrokeThickness="2" 
                                 HorizontalOptions="Center"
                                 VerticalOptions="Center"
                                 WidthRequest="68"
                                 HeightRequest="68"/>

                                <Image Source="scanner_icon.svg"
                               WidthRequest="32"
                               HeightRequest="32"
                               HorizontalOptions="Center"
                               VerticalOptions="Center">
                                    <Image.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnTakePhotoButtonClicked"/>
                                    </Image.GestureRecognizers>
                                </Image>
                            </Grid>
                        </Frame>

                        <Label Text="Scan" 
                       FontSize="12"
                       TextColor="#555555"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       VerticalOptions="End"/>
                    </Grid>

                    <!-- Enhanced Upload Button -->
                    <Grid WidthRequest="60" HeightRequest="76">
                        <Frame 
                    VerticalOptions="Start"
                    HorizontalOptions="Center"
                    WidthRequest="56" 
                    HeightRequest="56" 
                    CornerRadius="28"
                    Padding="0"
                    HasShadow="False"
                    BorderColor="Transparent">
                            <Frame.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#2E7D32" Offset="0.0" />
                                    <GradientStop Color="#1B5E20" Offset="1.0" />
                                </LinearGradientBrush>
                            </Frame.Background>

                            <Grid>
                                <Ellipse Stroke="#80FFFFFF" 
                                 StrokeThickness="1.5" 
                                 HorizontalOptions="Center"
                                 VerticalOptions="Center"
                                 WidthRequest="48"
                                 HeightRequest="48"/>

                                <Image Source="upload_icon.svg"
                               WidthRequest="24"
                               HeightRequest="24"
                               HorizontalOptions="Center"
                               VerticalOptions="Center">
                                    <Image.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnUploadButtonClicked"/>
                                    </Image.GestureRecognizers>
                                </Image>
                            </Grid>
                        </Frame>

                        <Label Text="Upload" 
                       FontSize="12"
                       TextColor="#555555"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       VerticalOptions="End"/>
                    </Grid>
                </HorizontalStackLayout>
            </Frame>
        </Grid>
    </Grid>
</ContentPage>